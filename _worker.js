var _0x1a2b3c = ["\x63\x6C\x6F\x75\x64\x66\x6C\x61\x72\x65\x3A\x73\x6F\x63\x6B\x65\x74\x73", "\x66\x65\x74\x63\x68", "\x63\x6F\x6E\x6E\x65\x63\x74", "\x55\x52\x4C", "\x68\x6F\x73\x74\x6E\x61\x6D\x65", "\x55\x73\x65\x72\x2D\x41\x67\x65\x6E\x74", "\x55\x70\x67\x72\x61\x64\x65", "\x41\x44\x4D\x49\x4E", "\x61\x64\x6D\x69\x6E", "\x50\x41\x53\x53\x57\x4F\x52\x44", "\x70\x61\x73\x73\x77\x6F\x72\x64", "\x70\x73\x77\x64", "\x54\x4F\x4B\x45\x4E", "\x4B\x45\x59", "\x6B\x65\x79", "\x55\x55\x49\x44", "\x75\x75\x69\x64", "\x48\x4F\x53\x54", "\x58\x2D\x52\x65\x61\x6C\x2D\x49\x50", "\x58\x2D\x46\x6F\x72\x77\x61\x72\x64\x65\x64\x2D\x46\x6F\x72", "\x54\x72\x75\x65\x2D\x43\x6C\x69\x65\x6E\x74\x2D\x49\x50", "\x46\x6C\x79\x2D\x43\x6C\x69\x65\x6E\x74\x2D\x49\x50", "\x58\x2D\x41\x70\x70\x65\x6E\x67\x69\x6E\x65\x2D\x52\x65\x6D\x6F\x74\x65\x2D\x41\x64\x64\x72", "\x58\x2D\x43\x6C\x75\x73\x74\x65\x72\x2D\x43\x6C\x69\x65\x6E\x74\x2D\x49\x50", "\x63\x6C\x69\x65\x6E\x74\x54\x63\x70\x52\x74\x74", "\x50\x52\x4F\x58\x59\x49\x50", "\x47\x4F\x32\x53\x4F\x43\x4B\x53\x35", "\x4B\x56", "\x67\x65\x74", "\x70\x75\x74", "\x55\x52\x4C", "\x61\x64\x6D\x69\x6E", "\x6C\x6F\x67\x69\x6E", "\x6C\x6F\x67\x6F\x75\x74", "\x73\x75\x62", "\x6C\x6F\x63\x61\x74\x69\x6F\x6E\x73", "\x72\x6F\x62\x6F\x74\x73\x2E\x74\x78\x74"];
const [_0x2a3b4c, _0x3b4c5d, _0x4c5d6e, _0x5d6e7f, _0x6e7f8g, _0x7f8g9h, _0x8g9h0i, _0x9h0i1j, _0xh0i1j2k, _0x0i1j2k3l, _0xi1j2k3l4m, _0xi2k3l4m5n, _0xk3l4m5n6o, _0xl4m5n6o7p, _0xm5n6o7p8q, _0xn6o7p8q9r, _0xo7p8q9r0s, _0xp8q9r0s1t, _0xq9r0s1t2u, _0xr0s1t2u3v, _0xs1t2u3v4w, _0xt2u3v4w5x, _0xu3v4w5x6y, _0xv4w5x6y7z, _0xw5x6y7z8a, _0xx6y7z8a9b, _0xy7z8a9b0c, _0xz8a9b0c1d, _0xa9b0c1d2e, _0xb0c1d2e3f, _0xc1d2e3f4g, _0xd2e3f4g5h, _0xe3f4g5h6i, _0xf4g5h6i7j, _0xg5h6i7j8k, _0xh6i7j8k9l] = _0x1a2b3c;

let _0xf1e2d3 = null, _0x2d3e4f = '', _0x3e4f5g = null, _0x4f5g6h = false, _0x5g6h7i = '', _0x6h7i8j = {};
let _0x7i8j9k, _0x8j9k0l, _0x9k0l1m = 0, _0xk0l1m2n = true;
let _0xl1m2n3o = ['*tapecontent.net', '*cloudatacdn.com', '*loadshare.org', '*cdn-centaurus.com', 'scholar.google.com'];
const _0xm2n3o4p = 'https://edt-pages.github.io';

function _0xa3b4c5(_0xd6e7f8) {
    return _0xd6e7f8['replace'](/[	"'\r\n]+/g, ',')['replace'](/,+/g, ',')['replace'](/^,|,$/g, '')['split'](',');
}

async function _0xb4c5d6(_0xe7f8g9) {
    const _0xf8g9h0 = new TextEncoder();
    const _0xg9h0i1 = await crypto.subtle.digest('MD5', _0xf8g9h0.encode(_0xe7f8g9));
    const _0xh0i1j2 = Array.from(new Uint8Array(_0xg9h0i1)).map(_0xi1j2k3 => _0xi1j2k3.toString(16).padStart(2, '0')).join('');
    const _0xi2k3l4 = await crypto.subtle.digest('MD5', _0xf8g9h0.encode(_0xh0i1j2.slice(7, 27)));
    return Array.from(new Uint8Array(_0xi2k3l4)).map(_0xj2k3l4m => _0xj2k3l4m.toString(16).padStart(2, '0')).join('')['toLowerCase']();
}

function _0xc5d6e7(_0xf8g9h0, _0xg9h0i1 = 3, _0xh0i1j2 = 2) {
    if (!_0xf8g9h0 || typeof _0xf8g9h0 !== 'string') return _0xf8g9h0;
    if (_0xf8g9h0['length'] <= _0xg9h0i1 + _0xh0i1j2) return _0xf8g9h0;
    return _0xf8g9h0['slice'](0, _0xg9h0i1) + '*'.repeat(_0xf8g9h0['length'] - _0xg9h0i1 - _0xh0i1j2) + _0xf8g9h0['slice'](-_0xh0i1j2);
}

async function _0xd6e7f8(_0x9h0i1j, _0x0i1j2k, _0x1j2k3l) {
    try {
        const _0x2k3l4m = new TextDecoder()['decode'](new Uint8Array(atob(_0x9h0i1j['replace'](/-/g, '+')['replace'](/_/g, '/'))['split']('')['map'](_0x3l4m5n => _0x3l4m5n['charCodeAt'](0))));
        const _0x4m5n6o = JSON.parse(_0x2k3l4m);
        return _0x4m5n6o['success'] ? _0x4m5n6o : { 'success': false, 'pages': 0, 'workers': 0, 'total': 0, 'max': 100000 };
    } catch (_0x5n6o7p) {
        return { 'success': false, 'pages': 0, 'workers': 0, 'total': 0, 'max': 100000 };
    }
}

export default {
    async [_0x2a3b4c](_0x3f4g5h, _0x4g5h6i, _0x5h6i7j) {
        const _0x6i7j8k = new [_0x4c5d6e](_0x3f4g5h[_0x5d6e7f]);
        const _0x7j8k9l = _0x3f4g5h['headers']['get'](_0x6e7f8g) || 'null';
        const _0x8k9l0m = _0x3f4g5h['headers']['get'](_0x7f8g9h);
        const _0x9l0m1n = _0x4g5h6i[_0x8g9h0i] || _0x4g5h6i[_0x9h0i1j] || _0x4g5h6i[_0x0i1j2k3l] || _0x4g5h6i[_0xi1j2k3l4m] || _0x4g5h6i[_0xi2k3l4m5n] || _0x4g5h6i[_0xk3l4m5n6o] || _0x4g5h6i[_0xl4m5n6o7p] || _0x4g5h6i[_0xm5n6o7p8q] || _0x4g5h6i[_0xn6o7p8q9r];
        const _0x0m1n2o = _0x4g5h6i[_0xl4m5n6o7p] || '\u52FF\u52A8\u6B64\u9ED8\u8BA4\u5BC6\u94A5\uFF0C\u6709\u9700\u6C42\u8BF7\u81EA\u884C\u901A\u8FC7\u6DFB\u52A0\u53D8\u91CFKEY\u8FDB\u884C\u4FEE\u6539';
        const _0x1n2o3p = await _0xb4c5d6(_0x9l0m1n + _0x0m1n2o);
        const _0x2o3p4q = /^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-4[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$/;
        const _0x3p4q5r = _0x4g5h6i[_0xn6o7p8q9r] || _0x4g5h6i[_0xo7p8q9r0s];
        const _0x4q5r6s = (_0x3p4q5r && _0x2o3p4q['test'](_0x3p4q5r)) ? _0x3p4q5r['toLowerCase']() : [_0x1n2o3p['slice'](0, 8), _0x1n2o3p['slice'](8, 12), '4' + _0x1n2o3p['slice'](13, 16), '8' + _0x1n2o3p['slice'](17, 20), _0x1n2o3p['slice'](20)]['join']('-');
        const _0x5r6s7t = _0x4g5h6i[_0xp8q9r0s1t] ? (await _0xa3b4c5(_0x4g5h6i[_0xp8q9r0s1t]))['map'](_0x6s7t8u => _0x6s7t8u['toLowerCase']()['replace'](/^https?:\/\//, '')['split']('/')[0]['split'](':')[0]) : [_0x6i7j8k[_0x5d6e7f]];
        const _0x6s7t8u = _0x5r6s7t[0];
        
        if (_0x4g5h6i[_0xx6y7z8a9b]) {
            const _0x7t8u9v = await _0xa3b4c5(_0x4g5h6i[_0xx6y7z8a9b]);
            _0x2d3e4f = _0x7t8u9v[Math['floor'](Math['random']() * _0x7t8u9v['length'])];
            _0xk0l1m2n = false;
        } else _0x2d3e4f = (_0x3f4g5h['cf']['colo'] + '.PrOxYIp.CmLiUsSsS.nEt')['toLowerCase']();
        
        const _0x8u9v0w = _0x3f4g5h['headers']['get'](_0xq9r0s1t2u) || _0x3f4g5h['headers']['get'](_0xr0s1t2u3v) || _0x3f4g5h['headers']['get'](_0xs1t2u3v4w) || _0x3f4g5h['headers']['get'](_0xt2u3v4w5x) || _0x3f4g5h['headers']['get'](_0xu3v4w5x6y) || _0x3f4g5h['headers']['get'](_0xv4w5x6y7z) || _0x3f4g5h['headers']['get'](_0xw5x6y7z8a) || _0x3f4g5h['cf']?.['clientTcpRtt'] || '\u672A\u77E5IP';
        
        if (_0x4g5h6i[_0xy7z8a9b0c]) _0xl1m2n3o = await _0xa3b4c5(_0x4g5h6i[_0xy7z8a9b0c]);
        
        if (!_0x8k9l0m || _0x8k9l0m !== 'websocket') {
            if (_0x6i7j8k['protocol'] === 'http:') return Response['redirect'](_0x6i7j8k['href']['replace'](`http://${_0x6i7j8k[_0x5d6e7f]}`, `https://${_0x6i7j8k[_0x5d6e7f]}`), 301);
            if (!_0x9l0m1n) return (0, eval)(_0x3b4c5d)(_0xm2n3o4p + '/noADMIN')['then'](_0x9v0w1x => { const _0x0w1x2y = new Headers(_0x9v0w1x['headers']); _0x0w1x2y['set']('Cache-Control', 'no-store, no-cache, must-revalidate, proxy-revalidate'); _0x0w1x2y['set']('Pragma', 'no-cache'); _0x0w1x2y['set']('Expires', '0'); return new Response(_0x9v0w1x['body'], { 'status': 404, 'statusText': _0x9v0w1x['statusText'], 'headers': _0x0w1x2y }); });
            if (_0x4g5h6i[_0xz8a9b0c1d] && typeof _0x4g5h6i[_0xz8a9b0c1d][_0xa9b0c1d2e] === 'function') {
                const _0x1x2y3z = _0x6i7j8k['pathname']['slice'](1)['toLowerCase']();
                const _0x2y3z4a = _0x6i7j8k['pathname']['slice'](1);
                
                if (_0x2y3z4a === _0x0m1n2o && _0x0m1n2o !== '\u52FF\u52A8\u6B64\u9ED8\u8BA4\u5BC6\u94A5\uFF0C\u6709\u9700\u6C42\u8BF7\u81EA\u884C\u901A\u8FC7\u6DFB\u52A0\u53D8\u91CFKEY\u8FDB\u884C\u4FEE\u6539') {
                    const _0x3z4a5b = new URLSearchParams(_0x6i7j8k['search']);
                    _0x3z4a5b['set']('token', await _0xb4c5d6(_0x6s7t8u + _0x4q5r6s));
                    return new Response('\u91CD\u5B9A\u5411\u4E2D...', { 'status': 302, 'headers': { 'Location': `/sub?${_0x3z4a5b['toString']()}` } });
                } else if (_0x1x2y3z === _0xe3f4g5h6i) {
                    const _0x4a5b6c = _0x3f4g5h['headers']['get']('Cookie') || '';
                    const _0x5b6c7d = _0x4a5b6c['split'](';')['find'](_0x6c7d8e => _0x6c7d8e['trim']()['startsWith']('auth='))?.['split']('=')[1];
                    if (_0x5b6c7d == await _0xb4c5d6(_0x7j8k9l + _0x0m1n2o + _0x9l0m1n)) return new Response('\u91CD\u5B9A\u5411\u4E2D...', { 'status': 302, 'headers': { 'Location': '/admin' } });
                    if (_0x3f4g5h['method'] === 'POST') {
                        const _0x6c7d8e = await _0x3f4g5h['text']();
                        const _0x7d8e9f = new URLSearchParams(_0x6c7d8e);
                        const _0x8e9f0g = _0x7d8e9f['get']('password');
                        if (_0x8e9f0g === _0x9l0m1n) {
                            const _0x9f0g1h = new Response(JSON['stringify']({ 'success': true }), { 'status': 200, 'headers': { 'Content-Type': 'application/json;charset=utf-8' } });
                            _0x9f0g1h['headers']['set']('Set-Cookie', `auth=${await _0xb4c5d6(_0x7j8k9l + _0x0m1n2o + _0x9l0m1n)}; Path=/; Max-Age=86400; HttpOnly`);
                            return _0x9f0g1h;
                        }
                    }
                    return (0, eval)(_0x3b4c5d)(_0xm2n3o4p + '/login');
                } else if (_0x1x2y3z === _0xd2e3f4g5h || _0x1x2y3z['startsWith']('admin/')) {
                    const _0x9f0g1h = _0x3f4g5h['headers']['get']('Cookie') || '';
                    const _0x0g1h2i = _0x9f0g1h['split'](';')['find'](_0x1h2i3j => _0x1h2i3j['trim']()['startsWith']('auth='))?.['split']('=')[1];
                    if (!_0x0g1h2i || _0x0g1h2i !== await _0xb4c5d6(_0x7j8k9l + _0x0m1n2o + _0x9l0m1n)) return new Response('\u91CD\u5B9A\u5411\u4E2D...', { 'status': 302, 'headers': { 'Location': '/login' } });
                    
                    if (_0x1x2y3z === 'admin/log.json') {
                        const _0x1h2i3j = await _0x4g5h6i[_0xz8a9b0c1d][_0xa9b0c1d2e]('log.json') || '[]';
                        return new Response(_0x1h2i3j, { 'status': 200, 'headers': { 'Content-Type': 'application/json;charset=utf-8' } });
                    } else if (_0x2y3z4a === 'admin/getCloudflareUsage') {
                        try {
                            const _0x2i3j4k = await _0xd6e7f8(_0x6i7j8k['searchParams']['get']('Email'), _0x6i7j8k['searchParams']['get']('GlobalAPIKey'), _0x6i7j8k['searchParams']['get']('AccountID'), _0x6i7j8k['searchParams']['get']('APIToken'));
                            return new Response(JSON['stringify'](_0x2i3j4k, null, 2), { 'status': 200, 'headers': { 'Content-Type': 'application/json' } });
                        } catch (_0x3j4k5l) {
                            const _0x4k5l6m = { 'msg': '\u67E5\u8BE2\u8BF7\u6C42\u91CF\u5931\u8D25\uFF0C\u5931\u8D25\u539F\u56E0\uFF1A' + _0x3j4k5l['message'], 'error': _0x3j4k5l['message'] };
                            return new Response(JSON['stringify'](_0x4k5l6m, null, 2), { 'status': 500, 'headers': { 'Content-Type': 'application/json;charset=utf-8' } });
                        }
                    }
                    
                    _0xf1e2d3 = await _0xe7f8g9(_0x4g5h6i, _0x6s7t8u, _0x4q5r6s);
                    
                    if (_0x1x2y3z === 'admin/init') {
                        try {
                            _0xf1e2d3 = await _0xe7f8g9(_0x4g5h6i, _0x6s7t8u, _0x4q5r6s, true);
                            _0x5h6i7j['waitUntil'](_0xf8g9h0(_0x4g5h6i, _0x3f4g5h, _0x8u9v0w, 'Init_Config', _0xf1e2d3));
                            _0xf1e2d3['init'] = '\u914D\u7F6E\u5DF2\u91CD\u7F6E\u4E3A\u9ED8\u8BA4\u503C';
                            return new Response(JSON['stringify'](_0xf1e2d3, null, 2), { 'status': 200, 'headers': { 'Content-Type': 'application/json' } });
                        } catch (_0x5l6m7n) {
                            const _0x6m7n8o = { 'msg': '\u914D\u7F6E\u91CD\u7F6E\u5931\u8D25\uFF0C\u5931\u8D25\u539F\u56E0\uFF1A' + _0x5l6m7n['message'], 'error': _0x5l6m7n['message'] };
                            return new Response(JSON['stringify'](_0x6m7n8o, null, 2), { 'status': 500, 'headers': { 'Content-Type': 'application/json;charset=utf-8' } });
                        }
                    } else if (_0x3f4g5h['method'] === 'POST') {
                        if (_0x1x2y3z === 'admin/config.json') {
                            try {
                                const _0x7n8o9p = await _0x3f4g5h['json']();
                                if (!_0x7n8o9p['UUID'] || !_0x7n8o9p['HOST']) return new Response(JSON['stringify']({ 'error': '\u914D\u7F6E\u4E0D\u5B8C\u6574' }), { 'status': 400, 'headers': { 'Content-Type': 'application/json;charset=utf-8' } });
                                await _0x4g5h6i[_0xz8a9b0c1d][_0xb0c1d2e3f]('config.json', JSON['stringify'](_0x7n8o9p, null, 2));
                                _0x5h6i7j['waitUntil'](_0xf8g9h0(_0x4g5h6i, _0x3f4g5h, _0x8u9v0w, 'Save_Config', _0xf1e2d3));
                                return new Response(JSON['stringify']({ 'success': true, 'message': '\u914D\u7F6E\u5DF2\u4FDD\u5B58' }), { 'status': 200, 'headers': { 'Content-Type': 'application/json;charset=utf-8' } });
                            } catch (_0x8o9p0q) {
                                return new Response(JSON['stringify']({ 'error': '\u4FDD\u5B58\u914D\u7F6E\u5931\u8D25: ' + _0x8o9p0q['message'] }), { 'status': 500, 'headers': { 'Content-Type': 'application/json;charset=utf-8' } });
                            }
                        }
                    } else if (_0x1x2y3z === 'admin/config.json') {
                        return new Response(JSON['stringify'](_0xf1e2d3, null, 2), { 'status': 200, 'headers': { 'Content-Type': 'application/json' } });
                    }
                    
                    _0x5h6i7j['waitUntil'](_0xf8g9h0(_0x4g5h6i, _0x3f4g5h, _0x8u9v0w, 'Admin_Login', _0xf1e2d3));
                    return (0, eval)(_0x3b4c5d)(_0xm2n3o4p + '/admin');
                } else if (_0x1x2y3z === _0xf4g5h6i7j || _0x2o3p4q['test'](_0x1x2y3z)) {
                    const _0x9p0q1r = new Response('\u91CD\u5B9A\u5411\u4E2D...', { 'status': 302, 'headers': { 'Location': '/login' } });
                    _0x9p0q1r['headers']['set']('Set-Cookie', 'auth=; Path=/; Max-Age=0; HttpOnly');
                    return _0x9p0q1r;
                } else if (_0x1x2y3z === _0xg5h6i7j8k) {
                    const _0x0q1r2s = await _0xb4c5d6(_0x6s7t8u + _0x4q5r6s);
                    if (_0x6i7j8k['searchParams']['get']('token') === _0x0q1r2s) {
                        _0xf1e2d3 = await _0xe7f8g9(_0x4g5h6i, _0x6s7t8u, _0x4q5r6s);
                        _0x5h6i7j['waitUntil'](_0xf8g9h0(_0x4g5h6i, _0x3f4g5h, _0x8u9v0w, 'Get_SUB', _0xf1e2d3));
                        const _0x1r2s3t = _0x7j8k9l['toLowerCase']();
                        const _0x2s3t4u = 4102329600;
                        const _0x3t4u5v = Date['now']();
                        const _0x4u5v6w = new Date(_0x3t4u5v);
                        _0x4u5v6w['setHours'](0, 0, 0, 0);
                        const _0x5v6w7x = Math['floor'](((_0x3t4u5v - _0x4u5v6w['getTime']()) / 86400000) * 24 * 1099511627776 / 2);
                        let _0x6w7x8y = _0x5v6w7x, _0x7x8y9z = _0x5v6w7x, _0x8y9z0a = 24 * 1099511627776;
                        if (_0xf1e2d3['CF']['Usage']['success']) {
                            _0x6w7x8y = _0xf1e2d3['CF']['Usage']['pages'];
                            _0x7x8y9z = _0xf1e2d3['CF']['Usage']['workers'];
                            _0x8y9z0a = Number['isFinite'](_0xf1e2d3['CF']['Usage']['max']) ? (_0xf1e2d3['CF']['Usage']['max'] / 1000) * 1024 : 1024 * 100;
                        }
                        const _0x9z0a1b = {
                            'content-type': 'text/plain; charset=utf-8',
                            'Profile-Update-Interval': _0xf1e2d3['优选订阅生成']['SUBUpdateTime'],
                            'Profile-web-page-url': _0x6i7j8k['protocol'] + '//' + _0x6i7j8k['host'] + '/admin',
                            'Subscription-Userinfo': `upload=${_0x6w7x8y}; download=${_0x7x8y9z}; total=${_0x8y9z0a}; expire=${_0x2s3t4u}`,
                            'Cache-Control': 'no-store'
                        };
                        const _0x0a1b2c = _0x1r2s3t['includes']('subconverter') || _0x6i7j8k['searchParams']['has']('b64') || _0x6i7j8k['searchParams']['has']('base64');
                        const _0x1b2c3d = _0x0a1b2c ? 'mixed' : _0x6i7j8k['searchParams']['has']('target') ? _0x6i7j8k['searchParams']['get']('target') : 'mixed';
                        
                        if (!_0x1r2s3t['includes']('mozilla')) _0x9z0a1b['Content-Disposition'] = `attachment; filename*=utf-8''${encodeURIComponent(_0xf1e2d3['优选订阅生成']['SUBNAME'])}`;
                        
                        let _0x2c3d4e = '';
                        if (_0x1b2c3d === 'mixed') {
                            const _0x3d4e5f = _0xf1e2d3['TLS分片'] == 'Shadowrocket' ? `&fragment=${encodeURIComponent('1,40-60,30-50,tlshello')}` : _0xf1e2d3['TLS分片'] == 'Happ' ? `&fragment=${encodeURIComponent('3,1,tlshello')}` : '';
                            let _0x4e5f6g = [], _0x5f6g7h = '';
                            
                            if (!_0x6i7j8k['searchParams']['has']('sub') && _0xf1e2d3['优选订阅生成']['local']) {
                                const _0x6g7h8i = _0xf1e2d3['优选订阅生成']['本地IP库']['随机IP'] ? (await _0x6h7i8j(_0x3f4g5h, _0xf1e2d3['优选订阅生成']['本地IP库']['随机数量'], _0xf1e2d3['优选订阅生成']['本地IP库']['指定端口']))[0] : await _0x4g5h6i[_0xz8a9b0c1d][_0xa9b0c1d2e]('ADD.txt') ? await _0xa3b4c5(await _0x4g5h6i[_0xz8a9b0c1d][_0xa9b0c1d2e]('ADD.txt')) : (await _0x6h7i8j(_0x3f4g5h, _0xf1e2d3['优选订阅生成']['本地IP库']['随机数量'], _0xf1e2d3['优选订阅生成']['本地IP库']['指定端口']))[0];
                                const _0x7h8i9j = [], _0x8i9j0k = [], _0x9j0k1l = [];
                                for (const _0x0k1l2m of _0x6g7h8i) {
                                    if (_0x0k1l2m['toLowerCase']()['startsWith']('https://')) _0x7h8i9j['push'](_0x0k1l2m);
                                    else if (_0x0k1l2m['toLowerCase']()['includes']('://')) _0x9j0k1l['push'](_0x0k1l2m);
                                    else _0x8i9j0k['push'](_0x0k1l2m);
                                }
                                const _0x1l2m3n = await _0x2m3n4o(_0x7h8i9j);
                                _0x5f6g7h = _0x9j0k1l['concat'](_0x1l2m3n[1])['join']('\n') + '\n';
                                _0x4e5f6g = _0x8i9j0k['concat'](_0x1l2m3n[0]);
                            }
                            
                            const _0x2m3n4o = _0xf1e2d3['ECH'] ? `&ech=${encodeURIComponent((_0xf1e2d3['ECHConfig']['SNI'] ? _0xf1e2d3['ECHConfig']['SNI'] + '+' : '') + _0xf1e2d3['ECHConfig']['DNS'])}` : '';
                            _0x2c3d4e = _0x5f6g7h + _0x4e5f6g['map'](_0x3n4o5p => {
                                const _0x4o5p6q = /^(\[[\da-fA-F:]+\]|[\d.]+|[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?)*)(?::(\d+))?(?:#(.+))?$/;
                                const _0x5p6q7r = _0x3n4o5p['match'](_0x4o5p6q);
                                let _0x6q7r8s, _0x7r8s9t = '443', _0x8s9t0u;
                                if (_0x5p6q7r) {
                                    _0x6q7r8s = _0x5p6q7r[1];
                                    _0x7r8s9t = _0x5p6q7r[2] || '443';
                                    _0x8s9t0u = _0x5p6q7r[3] || _0x6q7r8s;
                                }
                                return `${_0xf1e2d3['协议类型']}://00000000-0000-4000-8000-000000000000@${_0x6q7r8s}:${_0x7r8s9t}?security=tls&type=${_0xf1e2d3['传输协议'] + _0x2m3n4o}&host=example.com&fp=${_0xf1e2d3['Fingerprint']}&sni=example.com&path=${encodeURIComponent(_0xf1e2d3['随机路径'] ? _0x4p5q6r(_0xf1e2d3['完整节点路径']) : _0xf1e2d3['完整节点路径']) + _0x3d4e5f}&encryption=none${_0xf1e2d3['跳过证书验证'] ? '&insecure=1&allowInsecure=1' : ''}#${encodeURIComponent(_0x8s9t0u)}`;
                            })['join']('\n');
                        }
                        
                        if (!_0x1r2s3t['includes']('subconverter')) _0x2c3d4e = await _0x5q6r7s(_0x2c3d4e['replace'](/00000000-0000-4000-8000-000000000000/g, _0xf1e2d3['UUID']), _0xf1e2d3['HOSTS']);
                        if (_0x1b2c3d === 'mixed' && (!_0x1r2s3t['includes']('mozilla') || _0x6i7j8k['searchParams']['has']('b64') || _0x6i7j8k['searchParams']['has']('base64'))) _0x2c3d4e = btoa(_0x2c3d4e);
                        
                        return new Response(_0x2c3d4e, { 'status': 200, 'headers': _0x9z0a1b });
                    }
                } else if (_0x1x2y3z === _0xh6i7j8k9l) {
                    const _0x9t0u1v = _0x3f4g5h['headers']['get']('Cookie') || '';
                    const _0x0u1v2w = _0x9t0u1v['split'](';')['find'](_0x1v2w3x => _0x1v2w3x['trim']()['startsWith']('auth='))?.['split']('=')[1];
                    if (_0x0u1v2w && _0x0u1v2w == await _0xb4c5d6(_0x7j8k9l + _0x0m1n2o + _0x9l0m1n)) return (0, eval)(_0x3b4c5d)(new Request('https://speed.cloudflare.com/locations', { 'headers': { 'Referer': 'https://speed.cloudflare.com/' } }));
                } else if (_0x1x2y3z === 'robots.txt') return new Response('User-agent: *\nDisallow: /', { 'status': 200, 'headers': { 'Content-Type': 'text/plain; charset=UTF-8' } });
            } else if (!_0x3p4q5r) return (0, eval)(_0x3b4c5d)(_0xm2n3o4p + '/noKV')['then'](_0x1v2w3x => { const _0x2w3x4y = new Headers(_0x1v2w3x['headers']); _0x2w3x4y['set']('Cache-Control', 'no-store, no-cache, must-revalidate, proxy-revalidate'); _0x2w3x4y['set']('Pragma', 'no-cache'); _0x2w3x4y['set']('Expires', '0'); return new Response(_0x1v2w3x['body'], { 'status': 404, 'statusText': _0x1v2w3x['statusText'], 'headers': _0x2w3x4y }); });
        } else if (_0x9l0m1n) {
            await _0x6r7s8t(_0x3f4g5h);
            return await _0x7s8t9u(_0x3f4g5h, _0x4q5r6s);
        }
        
        let _0x2w3x4y = _0x4g5h6i[_0xc1d2e3f4g] || 'nginx';
        if (_0x2w3x4y && _0x2w3x4y !== 'nginx' && _0x2w3x4y !== '1101') {
            _0x2w3x4y = _0x2w3x4y['trim']()['replace'](/\/$/, '');
            if (!_0x2w3x4y['match'](/^https?:\/\//i)) _0x2w3x4y = 'https://' + _0x2w3x4y;
            if (_0x2w3x4y['toLowerCase']()['startsWith']('http://')) _0x2w3x4y = 'https://' + _0x2w3x4y['substring'](7);
            try { const _0x3x4y5z = new [_0x4c5d6e](_0x2w3x4y); _0x2w3x4y = _0x3x4y5z['protocol'] + '//' + _0x3x4y5z['host']; } catch (_0x4y5z6a) { _0x2w3x4y = 'nginx'; }
        }
        if (_0x2w3x4y === '1101') return new Response(await _0x8t9u0v(_0x6i7j8k['host'], _0x8u9v0w), { 'status': 200, 'headers': { 'Content-Type': 'text/html; charset=UTF-8' } });
        try {
            const _0x5z6a7b = new [_0x4c5d6e](_0x2w3x4y), _0x6a7b8c = new Headers(_0x3f4g5h['headers']);
            _0x6a7b8c['set']('Host', _0x5z6a7b['host']);
            _0x6a7b8c['set']('Referer', _0x5z6a7b['origin']);
            _0x6a7b8c['set']('Origin', _0x5z6a7b['origin']);
            if (!_0x6a7b8c['has']('User-Agent') && _0x7j8k9l && _0x7j8k9l !== 'null') _0x6a7b8c['set']('User-Agent', _0x7j8k9l);
            const _0x7b8c9d = await (0, eval)(_0x3b4c5d)(_0x5z6a7b['origin'] + _0x6i7j8k['pathname'] + _0x6i7j8k['search'], { 'method': _0x3f4g5h['method'], 'headers': _0x6a7b8c, 'body': _0x3f4g5h['body'], 'cf': _0x3f4g5h['cf'] });
            const _0x8c9d0e = _0x7b8c9d['headers']['get']('content-type') || '';
            if (/text|javascript|json|xml/['test'](_0x8c9d0e)) {
                const _0x9d0e1f = (await _0x7b8c9d['text']())['replaceAll'](_0x5z6a7b['host'], _0x6i7j8k['host']);
                return new Response(_0x9d0e1f, { 'status': _0x7b8c9d['status'], 'headers': { ...Object['fromEntries'](_0x7b8c9d['headers']), 'Cache-Control': 'no-store' } });
            }
            return _0x7b8c9d;
        } catch (_0x0e1f2g) { }
        return new Response(await _0x9u0v1w(), { 'status': 200, 'headers': { 'Content-Type': 'text/html; charset=UTF-8' } });
    }
};

async function _0x7s8t9u(_0x1f2g3h, _0x2g3h4i) {
    const _0x3h4i5j = new WebSocketPair();
    const [_0x4i5j6k, _0x5j6k7l] = Object['values'](_0x3h4i5j);
    _0x5j6k7l['accept']();
    let _0x6k7l8m = { 'socket': null };
    let _0x7l8m9n = false;
    const _0x8m9n0o = _0x1f2g3h['headers']['get']('sec-websocket-protocol') || '';
    const _0x9n0o1p = _0x0v1w2x(_0x5j6k7l, _0x8m9n0o);
    let _0x0o1p2q = null;
    _0x9n0o1p['pipeTo'](new WritableStream({
        async write(_0x1p2q3r) {
            if (_0x7l8m9n) return;
            if (_0x6k7l8m['socket']) {
                const _0x2q3r4s = _0x6k7l8m['socket']['writable']['getWriter']();
                await _0x2q3r4s['write'](_0x1p2q3r);
                _0x2q3r4s['releaseLock']();
                return;
            }
            if (_0x0o1p2q === null) {
                const _0x3r4s5t = new Uint8Array(_0x1p2q3r);
                _0x0o1p2q = _0x3r4s5t['byteLength'] >= 58 && _0x3r4s5t[56] === 0x0d && _0x3r4s5t[57] === 0x0a;
            }
            if (_0x0o1p2q) {
                const { 'port': _0x4s5t6u, 'hostname': _0x5t6u7v, 'rawClientData': _0x6u7v8w } = _0x1w2x3y(_0x1p2q3r, _0x2g3h4i);
                if (_0x2x3y4z(_0x5t6u7v)) throw new Error('Speedtest site is blocked');
                await _0x3y4z5a(_0x5t6u7v, _0x4s5t6u, _0x6u7v8w, _0x5j6k7l, null, _0x6k7l8m, _0x2g3h4i);
            }
        }
    }))['catch'](() => { });
    return new Response(null, { 'status': 101, 'webSocket': _0x4i5j6k });
}

function _0x1w2x3y(_0x7v8w9x, _0x8w9x0y) {
    const _0x9x0y1z = _0x4z5a6b(_0x8w9x0y);
    if (new Uint8Array(_0x7v8w9x['slice'](56, 57))[0] !== 0x0d || new Uint8Array(_0x7v8w9x['slice'](57, 58))[0] !== 0x0a) return { 'hasError': true, 'message': 'invalid header format' };
    const _0x0y1z2a = new TextDecoder()['decode'](_0x7v8w9x['slice'](0, 56));
    if (_0x0y1z2a !== _0x9x0y1z) return { 'hasError': true, 'message': 'invalid password' };
    const _0x1z2a3b = _0x7v8w9x['slice'](58);
    const _0x2a3b4c = new DataView(_0x1z2a3b);
    const _0x3b4c5d = _0x2a3b4c['getUint8'](1);
    let _0x4c5d6e = '', _0x5d6e7f = 2;
    switch (_0x3b4c5d) {
        case 1:
            _0x4c5d6e = new Uint8Array(_0x1z2a3b['slice'](_0x5d6e7f, _0x5d6e7f + 4))['join']('.');
            break;
        case 3:
            const _0x6e7f8g = new Uint8Array(_0x1z2a3b['slice'](_0x5d6e7f, _0x5d6e7f + 1))[0];
            _0x5d6e7f += 1;
            _0x4c5d6e = new TextDecoder()['decode'](_0x1z2a3b['slice'](_0x5d6e7f, _0x5d6e7f + _0x6e7f8g));
            break;
    }
    const _0x7f8g9h = _0x5d6e7f + (_0x3b4c5d === 1 ? 4 : _0x3b4c5d === 3 ? _0x6e7f8g : 16);
    const _0x8g9h0i = new DataView(_0x1z2a3b['slice'](_0x7f8g9h, _0x7f8g9h + 2))['getUint16'](0);
    return { 'hasError': false, 'port': _0x8g9h0i, 'hostname': _0x4c5d6e, 'rawClientData': _0x1z2a3b['slice'](_0x7f8g9h + 4) };
}

function _0x4z5a6b(_0x9h0i1j) {
    const _0x0i1j2k = unescape(encodeURIComponent(_0x9h0i1j));
    const _0x1j2k3l = [0xc1059ed8, 0x367cd507, 0x3070dd17, 0xf70e5939, 0xffc00b31, 0x68581511, 0x64f98fa7, 0xbefa4fa4];
    let _0x2k3l4m = 0;
    for (let _0x3l4m5n = 0; _0x3l4m5n < _0x0i1j2k['length']; _0x3l4m5n++) _0x2k3l4m += _0x0i1j2k['charCodeAt'](_0x3l4m5n);
    let _0x4m5n6o = '';
    for (let _0x5n6o7p = 0; _0x5n6o7p < 7; _0x5n6o7p++) {
        for (let _0x6o7p8q = 24; _0x6o7p8q >= 0; _0x6o7p8q -= 8) {
            _0x4m5n6o += ((_0x1j2k3l[_0x5n6o7p] >>> _0x6o7p8q) & 0xFF)['toString'](16)['padStart'](2, '0');
        }
    }
    return _0x4m5n6o;
}

function _0x2x3y4z(_0x7p8q9r) {
    const _0x8q9r0s = ['speed.cloudflare.com'];
    return _0x8q9r0s['includes'](_0x7p8q9r) || _0x8q9r0s['some'](_0x9r0s1t => _0x7p8q9r['endsWith']('.' + _0x9r0s1t) || _0x7p8q9r === _0x9r0s1t);
}

async function _0x3y4z5a(_0x0s1t2u, _0x1t2u3v, _0x2u3v4w, _0x3v4w5x, _0x4w5x6y, _0x5x6y7z, _0x6y7z8a) {
    console['log'](`[TCP转发] 目标: ${_0x0s1t2u}:${_0x1t2u3v} | 反代IP: ${_0x2d3e4f} | 反代兜底: ${_0xk0l1m2n ? '是' : '否'} | 反代类型: ${_0x3e4f5g || 'proxyip'} | 全局: ${_0x4f5g6h ? '是' : '否'}`);
    
    async function _0x7z8a9b(_0x8a9b0c, _0x9b0c1d, _0x0c1d2e, _0x1d2e3f = null, _0x2e3f4g = true) {
        if (_0x1d2e3f && _0x1d2e3f['length'] > 0) {
            for (let _0x3f4g5h = 0; _0x3f4g5h < _0x1d2e3f['length']; _0x3f4g5h++) {
                const _0x4g5h6i = (_0x9k0l1m + _0x3f4g5h) % _0x1d2e3f['length'];
                const [_0x5h6i7j, _0x6i7j8k] = _0x1d2e3f[_0x4g5h6i];
                try {
                    const _0x7j8k9l = (0, eval)(_0x4c5d6e)({ 'hostname': _0x5h6i7j, 'port': _0x6i7j8k });
                    await Promise['race']([_0x7j8k9l['opened'], new Promise((_0x8k9l0m, _0x9l0m1n) => setTimeout(() => _0x9l0m1n(new Error('连接超时')), 1000))]);
                    const _0x0m1n2o = _0x7j8k9l['writable']['getWriter']();
                    await _0x0m1n2o['write'](_0x0c1d2e);
                    _0x0m1n2o['releaseLock']();
                    _0x9k0l1m = _0x4g5h6i;
                    return _0x7j8k9l;
                } catch (_0x1n2o3p) {
                    continue;
                }
            }
        }
        if (_0x2e3f4g) {
            const _0x2o3p4q = (0, eval)(_0x4c5d6e)({ 'hostname': _0x8a9b0c, 'port': _0x9b0c1d });
            const _0x3p4q5r = _0x2o3p4q['writable']['getWriter']();
            await _0x3p4q5r['write'](_0x0c1d2e);
            _0x3p4q5r['releaseLock']();
            return _0x2o3p4q;
        }
    }
    
    const _0x4q5r6s = () => _0xl1m2n3o['some'](_0x5r6s7t => new RegExp(`^${_0x5r6s7t['replace'](/\*/g, '.*')}$`, 'i')['test'](_0x0s1t2u));
    if (_0x3e4f5g && (_0x4f5g6h || _0x4q5r6s())) {
        console['log'](`[TCP转发] 启用 SOCKS5/HTTP 全局代理`);
        try {
            const _0x6s7t8u = await _0x5a6b7c();
            _0x5x6y7z['socket'] = _0x6s7t8u;
            _0x6s7t8u['closed']['catch'](() => { })['finally'](() => _0x8b7c8d(_0x3v4w5x));
            _0x7c8d9e(_0x6s7t8u, _0x3v4w5x, _0x4w5x6y, null);
        } catch (_0x7t8u9v) {
            throw _0x7t8u9v;
        }
    }
}

async function _0x5a6b7c() {
    if (_0x3e4f5g === 'socks5') {
        console['log'](`[SOCKS5代理] 代理到: ${_0x0s1t2u}:${_0x1t2u3v}`);
        return await _0x6b7c8d(_0x0s1t2u, _0x1t2u3v, _0x2u3v4w);
    } else if (_0x3e4f5g === 'http' || _0x3e4f5g === 'https') {
        console['log'](`[HTTP代理] 代理到: ${_0x0s1t2u}:${_0x1t2u3v}`);
        return await _0x7c8d9e(_0x0s1t2u, _0x1t2u3v, _0x2u3v4w);
    } else {
        console['log'](`[反代连接] 代理到: ${_0x0s1t2u}:${_0x1t2u3v}`);
        const _0x8u9v0w = await _0x8d9e0f(_0x2d3e4f, _0x0s1t2u, _0x6y7z8a);
        return await _0x7z8a9b(atob('UFJPWFlJUC50cDEuMDkwMjI3Lnh5eg=='), 1, _0x2u3v4w, _0x8u9v0w, _0xk0l1m2n);
    }
}

function _0x8b7c8d(_0x9v0w1x) {
    try {
        if (_0x9v0w1x['readyState'] === WebSocket['OPEN'] || _0x9v0w1x['readyState'] === WebSocket['CLOSING']) {
            _0x9v0w1x['close']();
        }
    } catch (_0x0w1x2y) { }
}

function _0x7c8d9e(_0x1x2y3z, _0x2y3z4a, _0x3z4a5b, _0x4a5b6c) {
    let _0x5b6c7d = _0x3z4a5b;
    _0x1x2y3z['readable']['pipeTo'](new WritableStream({
        async write(_0x6c7d8e) {
            if (_0x2y3z4a['readyState'] !== WebSocket['OPEN']) throw 'ws.readyState is not open';
            if (_0x5b6c7d) {
                const _0x7d8e9f = new Uint8Array(_0x5b6c7d['length'] + _0x6c7d8e['byteLength']);
                _0x7d8e9f['set'](_0x5b6c7d, 0);
                _0x7d8e9f['set'](_0x6c7d8e, _0x5b6c7d['length']);
                _0x2y3z4a['send'](_0x7d8e9f['buffer']);
                _0x5b6c7d = null;
            } else {
                _0x2y3z4a['send'](_0x6c7d8e);
            }
        }
    }))['catch'](() => {
        _0x8b7c8d(_0x2y3z4a);
    });
}

function _0x0v1w2x(_0x8e9f0g, _0x9f0g1h) {
    let _0x0g1h2i = false;
    return new ReadableStream({
        start(_0x1h2i3j) {
            _0x8e9f0g['addEventListener']('message', _0x2i3j4k => {
                if (!_0x0g1h2i) _0x1h2i3j['enqueue'](_0x2i3j4k['data']);
            });
            _0x8e9f0g['addEventListener']('close', () => {
                if (!_0x0g1h2i) {
                    _0x8b7c8d(_0x8e9f0g);
                    _0x1h2i3j['close']();
                }
            });
            _0x8e9f0g['addEventListener']('error', _0x3j4k5l => _0x1h2i3j['error'](_0x3j4k5l));
            if (_0x9f0g1h) {
                try {
                    const _0x4k5l6m = atob(_0x9f0g1h['replace'](/-/g, '+')['replace'](/_/g, '/'));
                    const _0x5l6m7n = new Uint8Array(_0x4k5l6m['length']);
                    for (let _0x6m7n8o = 0; _0x6m7n8o < _0x4k5l6m['length']; _0x6m7n8o++) {
                        _0x5l6m7n[_0x6m7n8o] = _0x4k5l6m['charCodeAt'](_0x6m7n8o);
                    }
                    _0x1h2i3j['enqueue'](_0x5l6m7n['buffer']);
                } catch (_0x7n8o9p) { }
            }
        },
        cancel() {
            _0x0g1h2i = true;
            _0x8b7c8d(_0x8e9f0g);
        }
    });
}

async function _0x6b7c8d(_0x8o9p0q, _0x9p0q1r, _0x0q1r2s) {
    const { 'username': _0x1r2s3t, 'password': _0x2s3t4u, 'hostname': _0x3t4u5v, 'port': _0x4u5v6w } = _0x6h7i8j;
    const _0x5v6w7x = (0, eval)(_0x4c5d6e)({ 'hostname': _0x3t4u5v, 'port': _0x4u5v6w });
    const _0x6w7x8y = _0x5v6w7x['writable']['getWriter']();
    const _0x7x8y9z = _0x5v6w7x['readable']['getReader']();
    try {
        const _0x8y9z0a = _0x1r2s3t && _0x2s3t4u ? new Uint8Array([0x05, 0x02, 0x00, 0x02]) : new Uint8Array([0x05, 0x01, 0x00]);
        await _0x6w7x8y['write'](_0x8y9z0a);
        let _0x9z0a1b = await _0x7x8y9z['read']();
        if (_0x9z0a1b['done'] || _0x9z0a1b['value']['byteLength'] < 2) throw new Error('S5 method selection failed');
        const _0x0a1b2c = new Uint8Array(_0x9z0a1b['value'])[1];
        if (_0x0a1b2c === 0x02) {
            if (!_0x1r2s3t || !_0x2s3t4u) throw new Error('S5 requires authentication');
            const _0x1b2c3d = new TextEncoder()['encode'](_0x1r2s3t);
            const _0x2c3d4e = new TextEncoder()['encode'](_0x2s3t4u);
            const _0x3d4e5f = new Uint8Array([0x01, _0x1b2c3d['length'], ..._0x1b2c3d, _0x2c3d4e['length'], ..._0x2c3d4e]);
            await _0x6w7x8y['write'](_0x3d4e5f);
            _0x9z0a1b = await _0x7x8y9z['read']();
            if (_0x9z0a1b['done'] || new Uint8Array(_0x9z0a1b['value'])[1] !== 0x00) throw new Error('S5 authentication failed');
        } else if (_0x0a1b2c !== 0x00) throw new Error(`S5 unsupported auth method: ${_0x0a1b2c}`);
        const _0x4e5f6g = new TextEncoder()['encode'](_0x8o9p0q);
        const _0x5f6g7h = new Uint8Array([0x05, 0x01, 0x00, 0x03, _0x4e5f6g['length'], ..._0x4e5f6g, _0x9p0q1r >> 8, _0x9p0q1r & 0xff]);
        await _0x6w7x8y['write'](_0x5f6g7h);
        _0x9z0a1b = await _0x7x8y9z['read']();
        if (_0x9z0a1b['done'] || new Uint8Array(_0x9z0a1b['value'])[1] !== 0x00) throw new Error('S5 connection failed');
        await _0x6w7x8y['write'](_0x0q1r2s);
        _0x6w7x8y['releaseLock']();
        _0x7x8y9z['releaseLock']();
        return _0x5v6w7x;
    } catch (_0x6g7h8i) {
        try { _0x6w7x8y['releaseLock'](); } catch (_0x7h8i9j) { }
        try { _0x7x8y9z['releaseLock'](); } catch (_0x8i9j0k) { }
        try { _0x5v6w7x['close'](); } catch (_0x9j0k1l) { }
        throw _0x6g7h8i;
    }
}

async function _0x8d9e0f(_0x0k1l2m, _0x1l2m3n = 'dash.cloudflare.com', _0x2m3n4o = '00000000-0000-4000-8000-000000000000') {
    if (!_0x7i8j9k || !_0x8j9k0l || _0x7i8j9k !== _0x0k1l2m) {
        _0x0k1l2m = _0x0k1l2m['toLowerCase']();
        async function _0x3n4o5p(_0x4o5p6q, _0x5p6q7r) {
            try {
                const _0x6q7r8s = await (0, eval)(_0x3b4c5d)(`https://1.1.1.1/dns-query?name=${_0x4o5p6q}&type=${_0x5p6q7r}`, { 'headers': { 'Accept': 'application/dns-json' } });
                return _0x6q7r8s['ok'] ? (await _0x6q7r8s['json']())['Answer'] || [] : [];
            } catch (_0x7r8s9t) {
                return [];
            }
        }
        let _0x8s9t0u = [];
        if (_0x0k1l2m['includes']('.william')) {
            try {
                const _0x9t0u1v = await _0x3n4o5p(_0x0k1l2m, 'TXT');
                const _0x0u1v2w = _0x9t0u1v['filter'](_0x1v2w3x => _0x1v2w3x['type'] === 16)['map'](_0x2w3x4y => _0x2w3x4y['data']);
                if (_0x0u1v2w['length'] > 0) {
                    let _0x3x4y5z = _0x0u1v2w[0];
                    if (_0x3x4y5z['startsWith']('"') && _0x3x4y5z['endsWith']('"')) _0x3x4y5z = _0x3x4y5z['slice'](1, -1);
                    const _0x4y5z6a = _0x3x4y5z['replace'](/\\010/g, ',')['replace'](/\n/g, ',')['split'](',')['map'](_0x5z6a7b => _0x5z6a7b['trim']())['filter'](Boolean);
                    _0x8s9t0u = _0x4y5z6a['map'](_0x6a7b8c => {
                        let [_0x7b8c9d, _0x8c9d0e] = _0x6a7b8c['includes'](']:') ? [_0x6a7b8c['split'](']:')[0] + ']', parseInt(_0x6a7b8c['split'](']:')[1], 10) || 443] : _0x6a7b8c['includes'](':') ? [_0x6a7b8c['split'](':')[0], parseInt(_0x6a7b8c['split'](':')[1], 10) || 443] : [_0x6a7b8c, 443];
                        return [_0x7b8c9d, _0x8c9d0e];
                    });
                }
            } catch (_0x9d0e1f) { }
        } else {
            let [_0x0e1f2g, _0x1f2g3h] = _0x0k1l2m['includes'](']:') ? [_0x0k1l2m['split'](']:')[0] + ']', parseInt(_0x0k1l2m['split'](']:')[1], 10) || 443] : _0x0k1l2m['includes'](':') ? [_0x0k1l2m['split'](':')[0], parseInt(_0x0k1l2m['split'](':')[1], 10) || 443] : [_0x0k1l2m, 443];
            if (_0x0k1l2m['includes']('.tp')) {
                const _0x2g3h4i = _0x0k1l2m['match'](/\.tp(\d+)/);
                if (_0x2g3h4i) _0x1f2g3h = parseInt(_0x2g3h4i[1], 10);
            }
            const _0x3h4i5j = /^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/;
            const _0x4i5j6k = /^\[?([a-fA-F0-9:]+)\]?$/;
            if (!_0x3h4i5j['test'](_0x0e1f2g) && !_0x4i5j6k['test'](_0x0e1f2g)) {
                const [_0x5j6k7l, _0x6k7l8m] = await Promise['all']([_0x3n4o5p(_0x0e1f2g, 'A'), _0x3n4o5p(_0x0e1f2g, 'AAAA')]);
                const _0x7l8m9n = _0x5j6k7l['filter'](_0x8m9n0o => _0x8m9n0o['type'] === 1)['map'](_0x9n0o1p => _0x9n0o1p['data']);
                const _0x0o1p2q = _0x6k7l8m['filter'](_0x1p2q3r => _0x1p2q3r['type'] === 28)['map'](_0x2q3r4s => `[${_0x2q3r4s['data']}]`);
                const _0x3r4s5t = [..._0x7l8m9n, ..._0x0o1p2q];
                _0x8s9t0u = _0x3r4s5t['length'] > 0 ? _0x3r4s5t['map'](_0x4s5t6u => [_0x4s5t6u, _0x1f2g3h]) : [[_0x0e1f2g, _0x1f2g3h]];
            } else {
                _0x8s9t0u = [[_0x0e1f2g, _0x1f2g3h]];
            }
        }
        const _0x5t6u7v = _0x8s9t0u['sort']((_0x6u7v8w, _0x7v8w9x) => _0x6u7v8w[0]['localeCompare'](_0x7v8w9x[0]));
        const _0x8w9x0y = _0x1l2m3n['includes']('.') ? _0x1l2m3n['split']('.')['slice'](-2)['join']('.') : _0x1l2m3n;
        let _0x9x0y1z = [...(_0x8w9x0y + _0x2m3n4o)]['reduce']((_0x0y1z2a, _0x1z2a3b) => _0x0y1z2a + _0x1z2a3b['charCodeAt'](0), 0);
        const _0x2a3b4c = [..._0x5t6u7v]['sort'](() => (_0x9x0y1z = (_0x9x0y1z * 1103515245 + 12345) & 0x7fffffff) / 0x7fffffff - 0.5);
        _0x8j9k0l = _0x2a3b4c['slice'](0, 8);
        _0x7i8j9k = _0x0k1l2m;
    }
    return _0x8j9k0l;
}

async function _0xe7f8g9(_0x3b4c5d, _0x4c5d6e, _0x5d6e7f, _0x6e7f8g = false) {
    const _0x7f8g9h = _0x4c5d6e, _0x8g9h0i = 'https://doh.cmliussss.net/CMLiussss';
    const _0x9h0i1j = performance['now']();
    const _0x0i1j2k = {
        'TIME': new Date()['toISOString'](),
        'HOST': _0x7f8g9h,
        'HOSTS': [_0x4c5d6e],
        'UUID': _0x5d6e7f,
        'PATH': '/',
        '协议类型': 'v' + 'le' + 'ss',
        '传输协议': 'ws',
        '跳过证书验证': true,
        '启用0RTT': false,
        'TLS分片': null,
        '随机路径': false,
        'ECH': false,
        'ECHConfig': { 'DNS': _0x8g9h0i, 'SNI': null },
        'Fingerprint': 'chrome',
        '优选订阅生成': {
            'local': true,
            '本地IP库': { '随机IP': true, '随机数量': 16, '指定端口': -1 },
            'SUB': null,
            'SUBNAME': 'edge' + 'tunnel',
            'SUBUpdateTime': 3,
            'TOKEN': await _0xb4c5d6(_0x4c5d6e + _0x5d6e7f)
        },
        '订阅转换配置': {
            'SUBAPI': 'https://SUBAPI.cmliussss.net',
            'SUBCONFIG': 'https://raw.githubusercontent.com/cmliu/ACL4SSR/refs/heads/main/Clash/config/ACL4SSR_Online_Mini_MultiMode_CF.ini',
            'SUBEMOJI': false
        },
        '反代': {
            'PROXYIP': 'auto',
            'SOCKS5': { '启用': _0x3e4f5g, '全局': _0x4f5g6h, '账号': _0x5g6h7i, '白名单': _0xl1m2n3o }
        },
        'TG': { '启用': false, 'BotToken': null, 'ChatID': null },
        'CF': {
            'Email': null, 'GlobalAPIKey': null, 'AccountID': null, 'APIToken': null, 'UsageAPI': null,
            'Usage': { 'success': false, 'pages': 0, 'workers': 0, 'total': 0, 'max': 100000 }
        }
    };
    
    try {
        let _0x1j2k3l = await _0x3b4c5d[_0xz8a9b0c1d][_0xa9b0c1d2e]('config.json');
        if (!_0x1j2k3l || _0x6e7f8g == true) {
            await _0x3b4c5d[_0xz8a9b0c1d][_0xb0c1d2e3f]('config.json', JSON['stringify'](_0x0i1j2k, null, 2));
            _0xf1e2d3 = _0x0i1j2k;
        } else {
            _0xf1e2d3 = JSON['parse'](_0x1j2k3l);
        }
    } catch (_0x2k3l4m) {
        _0xf1e2d3 = _0x0i1j2k;
    }
    
    _0xf1e2d3['HOST'] = _0x7f8g9h;
    if (!_0xf1e2d3['HOSTS']) _0xf1e2d3['HOSTS'] = [_0x4c5d6e];
    if (_0x3b4c5d[_0xp8q9r0s1t]) _0xf1e2d3['HOSTS'] = (await _0xa3b4c5(_0x3b4c5d[_0xp8q9r0s1t]))['map'](_0x3l4m5n => _0x3l4m5n['toLowerCase']()['replace'](/^https?:\/\//, '')['split']('/')[0]['split'](':')[0]);
    _0xf1e2d3['UUID'] = _0x5d6e7f;
    if (!_0xf1e2d3['随机路径']) _0xf1e2d3['随机路径'] = false;
    if (!_0xf1e2d3['启用0RTT']) _0xf1e2d3['启用0RTT'] = false;
    
    if (_0x3b4c5d['PATH']) _0xf1e2d3['PATH'] = _0x3b4c5d['PATH']['startsWith']('/') ? _0x3b4c5d['PATH'] : '/' + _0x3b4c5d['PATH'];
    else if (!_0xf1e2d3['PATH']) _0xf1e2d3['PATH'] = '/';
    
    const { 'SOCKS5': _0x4m5n6o, 'PROXYIP': _0x5n6o7p } = _0xf1e2d3['反代'];
    const _0x6o7p8q = _0x4m5n6o['启用'] ? `${_0x4m5n6o['启用']}${_0x4m5n6o['全局'] ? '://' : '='}${_0x4m5n6o['账号']}` : (_0x5n6o7p === 'auto' ? '' : `proxyip=${_0x5n6o7p}`);
    _0xf1e2d3['PATH'] = _0xf1e2d3['PATH']['replace'](_0x6o7p8q, '')['replace']('//', '/');
    const _0x7p8q9r = _0xf1e2d3['PATH'] === '/' ? '' : _0xf1e2d3['PATH']['replace'](/\/+(?=\?|$)/, '')['replace'](/\/+$/, '');
    const [_0x8q9r0s, ..._0x9r0s1t] = _0x7p8q9r['split']('?');
    const _0x0s1t2u = _0x9r0s1t['length'] ? '?' + _0x9r0s1t['join']('?') : '';
    _0xf1e2d3['完整节点路径'] = (_0x8q9r0s || '/') + (_0x8q9r0s && _0x6o7p8q ? '/' : '') + _0x6o7p8q + _0x0s1t2u + (_0xf1e2d3['启用0RTT'] ? (_0x0s1t2u ? '&' : '?') + 'ed=2560' : '');
    
    if (!_0xf1e2d3['TLS分片'] && _0xf1e2d3['TLS分片'] !== null) _0xf1e2d3['TLS分片'] = null;
    const _0x1t2u3v = _0xf1e2d3['TLS分片'] == 'Shadowrocket' ? `&fragment=${encodeURIComponent('1,40-60,30-50,tlshello')}` : _0xf1e2d3['TLS分片'] == 'Happ' ? `&fragment=${encodeURIComponent('3,1,tlshello')}` : '';
    if (!_0xf1e2d3['Fingerprint']) _0xf1e2d3['Fingerprint'] = 'chrome';
    if (!_0xf1e2d3['ECH']) _0xf1e2d3['ECH'] = false;
    if (!_0xf1e2d3['ECHConfig']) _0xf1e2d3['ECHConfig'] = { 'DNS': _0x8g9h0i, 'SNI': null };
    const _0x2u3v4w = _0xf1e2d3['ECH'] ? `&ech=${encodeURIComponent((_0xf1e2d3['ECHConfig']['SNI'] ? _0xf1e2d3['ECHConfig']['SNI'] + '+' : '') + _0xf1e2d3['ECHConfig']['DNS'])}` : '';
    _0xf1e2d3['LINK'] = `${_0xf1e2d3['协议类型']}://${_0x5d6e7f}@${_0x7f8g9h}:443?security=tls&type=${_0xf1e2d3['传输协议'] + _0x2u3v4w}&host=${_0x7f8g9h}&fp=${_0xf1e2d3['Fingerprint']}&sni=${_0x7f8g9h}&path=${encodeURIComponent(_0xf1e2d3['随机路径'] ? _0x4p5q6r(_0xf1e2d3['完整节点路径']) : _0xf1e2d3['完整节点路径']) + _0x1t2u3v}&encryption=none${_0xf1e2d3['跳过证书验证'] ? '&insecure=1&allowInsecure=1' : ''}#${encodeURIComponent(_0xf1e2d3['优选订阅生成']['SUBNAME'])}`;
    _0xf1e2d3['优选订阅生成']['TOKEN'] = await _0xb4c5d6(_0x4c5d6e + _0x5d6e7f);
    
    const _0x3v4w5x = { 'BotToken': null, 'ChatID': null };
    _0xf1e2d3['TG'] = { '启用': _0xf1e2d3['TG']['启用'] ? _0xf1e2d3['TG']['启用'] : false, ..._0x3v4w5x };
    try {
        const _0x4w5x6y = await _0x3b4c5d[_0xz8a9b0c1d][_0xa9b0c1d2e]('tg.json');
        if (!_0x4w5x6y) {
            await _0x3b4c5d[_0xz8a9b0c1d][_0xb0c1d2e3f]('tg.json', JSON['stringify'](_0x3v4w5x, null, 2));
        } else {
            const _0x5x6y7z = JSON['parse'](_0x4w5x6y);
            _0xf1e2d3['TG']['ChatID'] = _0x5x6y7z['ChatID'] ? _0x5x6y7z['ChatID'] : null;
            _0xf1e2d3['TG']['BotToken'] = _0x5x6y7z['BotToken'] ? _0xc5d6e7(_0x5x6y7z['BotToken']) : null;
        }
    } catch (_0x6y7z8a) { }
    
    const _0x7z8a9b = { 'Email': null, 'GlobalAPIKey': null, 'AccountID': null, 'APIToken': null, 'UsageAPI': null };
    _0xf1e2d3['CF'] = { ..._0x7z8a9b, 'Usage': { 'success': false, 'pages': 0, 'workers': 0, 'total': 0, 'max': 100000 } };
    try {
        const _0x8a9b0c = await _0x3b4c5d[_0xz8a9b0c1d][_0xa9b0c1d2e]('cf.json');
        if (!_0x8a9b0c) {
            await _0x3b4c5d[_0xz8a9b0c1d][_0xb0c1d2e3f]('cf.json', JSON['stringify'](_0x7z8a9b, null, 2));
        } else {
            const _0x9b0c1d = JSON['parse'](_0x8a9b0c);
            if (_0x9b0c1d['UsageAPI']) {
                try {
                    const _0x0c1d2e = await (0, eval)(_0x3b4c5d)(_0x9b0c1d['UsageAPI']);
                    const _0x1d2e3f = await _0x0c1d2e['json']();
                    _0xf1e2d3['CF']['Usage'] = _0x1d2e3f;
                } catch (_0x2e3f4g) { }
            } else {
                _0xf1e2d3['CF']['Email'] = _0x9b0c1d['Email'] ? _0x9b0c1d['Email'] : null;
                _0xf1e2d3['CF']['GlobalAPIKey'] = _0x9b0c1d['GlobalAPIKey'] ? _0xc5d6e7(_0x9b0c1d['GlobalAPIKey']) : null;
                _0xf1e2d3['CF']['AccountID'] = _0x9b0c1d['AccountID'] ? _0xc5d6e7(_0x9b0c1d['AccountID']) : null;
                _0xf1e2d3['CF']['APIToken'] = _0x9b0c1d['APIToken'] ? _0xc5d6e7(_0x9b0c1d['APIToken']) : null;
                _0xf1e2d3['CF']['UsageAPI'] = null;
                const _0x3f4g5h = await _0xd6e7f8(_0x9b0c1d['Email'], _0x9b0c1d['GlobalAPIKey'], _0x9b0c1d['AccountID'], _0x9b0c1d['APIToken']);
                _0xf1e2d3['CF']['Usage'] = _0x3f4g5h;
            }
        }
    } catch (_0x4f5g6h) { }
    
    _0xf1e2d3['加载时间'] = (performance['now']() - _0x9h0i1j)['toFixed'](2) + 'ms';
    return _0xf1e2d3;
}

async function _0x6h7i8j(_0x5g6h7i, _0x6g7h8i = 16, _0x7g8h9i = -1) {
    const _0x8h9i0j = {
        '9808': { 'file': 'cmcc', 'name': 'CF移动优选' },
        '4837': { 'file': 'cu', 'name': 'CF联通优选' },
        '17623': { 'file': 'cu', 'name': 'CF联通优选' },
        '17816': { 'file': 'cu', 'name': 'CF联通优选' },
        '4134': { 'file': 'ct', 'name': 'CF电信优选' }
    };
    const _0x9i0j1k = _0x5g6h7i['cf']['asn'];
    const _0x0j1k2l = _0x8h9i0j[_0x9i0j1k];
    const _0x1k2l3m = _0x0j1k2l ? `https://raw.githubusercontent.com/cmliu/cmliu/main/CF-CIDR/${_0x0j1k2l['file']}.txt` : 'https://raw.githubusercontent.com/cmliu/cmliu/main/CF-CIDR.txt';
    const _0x2l3m4n = _0x0j1k2l?.['name'] || 'CF官方优选';
    const _0x3m4n5o = [443, 2053, 2083, 2087, 2096, 8443];
    let _0x4n5o6p = [];
    try {
        const _0x5o6p7q = await (0, eval)(_0x3b4c5d)(_0x1k2l3m);
        _0x4n5o6p = _0x5o6p7q['ok'] ? await _0xa3b4c5(await _0x5o6p7q['text']()) : ['104.16.0.0/13'];
    } catch (_0x6p7q8r) {
        _0x4n5o6p = ['104.16.0.0/13'];
    }
    
    const _0x7q8r9s = (_0x8r9s0t) => {
        const [_0x9s0t1u, _0x0t1u2v] = _0x8r9s0t['split']('/');
        const _0x1u2v3w = parseInt(_0x0t1u2v);
        const _0x2v3w4x = _0x9s0t1u['split']('.')['reduce']((_0x3w4x5y, _0x4x5y6z, _0x5y6z7a) => _0x3w4x5y | (parseInt(_0x4x5y6z) << (24 - _0x5y6z7a * 8)), 0);
        const _0x6z7a8b = 32 - _0x1u2v3w;
        const _0x7a8b9c = Math['floor'](Math['random']() * Math['pow'](2, _0x6z7a8b));
        const _0x8b9c0d = (0xFFFFFFFF << _0x6z7a8b) >>> 0;
        const _0x9c0d1e = (((_0x2v3w4x & _0x8b9c0d) >>> 0) + _0x7a8b9c) >>> 0;
        return [(_0x9c0d1e >>> 24) & 0xFF, (_0x9c0d1e >>> 16) & 0xFF, (_0x9c0d1e >>> 8) & 0xFF, _0x9c0d1e & 0xFF]['join']('.');
    };
    
    const _0x0d1e2f = Array['from']({ 'length': _0x6g7h8i }, () => {
        const _0x1e2f3g = _0x7q8r9s(_0x4n5o6p[Math['floor'](Math['random']() * _0x4n5o6p['length'])]);
        return `${_0x1e2f3g}:${_0x7g8h9i === -1 ? _0x3m4n5o[Math['floor'](Math['random']() * _0x3m4n5o['length'])] : _0x7g8h9i}#${_0x2l3m4n}`;
    });
    return [_0x0d1e2f, _0x0d1e2f['join']('\n')];
}

async function _0x2m3n4o(_0x2f3g4h, _0x3g4h5i = '443', _0x4g5h6j = 3000) {
    if (!_0x2f3g4h?.['length']) return [[], [], []];
    const _0x5h6i7k = new Set();
    let _0x6i7j8l = '', _0x7j8k9m = new Set();
    await Promise['allSettled'](_0x2f3g4h['map'](async (_0x8k9l0n) => {
        try {
            const _0x9l0m1o = new AbortController();
            const _0x0m1n2p = setTimeout(() => _0x9l0m1o['abort'](), _0x4g5h6j);
            const _0x1n2o3q = await (0, eval)(_0x3b4c5d)(_0x8k9l0n, { 'signal': _0x9l0m1o['signal'] });
            clearTimeout(_0x0m1n2p);
            let _0x2o3p4r = '';
            try {
                const _0x3p4q5s = await _0x1n2o3q['arrayBuffer']();
                const _0x4q5r6t = (_0x1n2o3q['headers']['get']('content-type') || '')['toLowerCase']();
                const _0x5r6s7u = _0x4q5r6t['match'](/charset=([^\s;]+)/i)?.[1]?.['toLowerCase']() || '';
                let _0x6s7t8v = ['utf-8', 'gb2312'];
                if (_0x5r6s7u['includes']('gb') || _0x5r6s7u['includes']('gbk') || _0x5r6s7u['includes']('gb2312')) {
                    _0x6s7t8v = ['gb2312', 'utf-8'];
                }
                let _0x7t8u9w = false;
                for (const _0x8u9v0x of _0x6s7t8v) {
                    try {
                        const _0x9v0w1y = new TextDecoder(_0x8u9v0x)['decode'](_0x3p4q5s);
                        if (_0x9v0w1y && _0x9v0w1y['length'] > 0 && !_0x9v0w1y['includes']('\ufffd')) {
                            _0x2o3p4r = _0x9v0w1y;
                            _0x7t8u9w = true;
                            break;
                        }
                    } catch (_0x0w1x2z) { }
                }
                if (!_0x7t8u9w) {
                    _0x2o3p4r = await _0x1n2o3q['text']();
                }
            } catch (_0x1x2y3a) { }
            if (_0x2o3p4r['split']('#')[0]['includes']('://')) {
                _0x6i7j8l += _0x2o3p4r + '\n';
                return;
            }
            const _0x2y3z4b = _0x2o3p4r['trim']()['split']('\n')['map'](_0x3z4a5c => _0x3z4a5c['trim']())['filter'](_0x4a5b6d => _0x4a5b6d);
            const _0x5b6c7e = _0x2y3z4b['length'] > 1 && _0x2y3z4b[0]['includes'](',');
            const _0x6c7d8f = /^[^\[\]]*:[^\[\]]*:[^\[\]]/;
            if (!_0x5b6c7e) {
                _0x2y3z4b['forEach'](_0x7d8e9g => {
                    const _0x8e9f0h = _0x7d8e9g['indexOf']('#');
                    const [_0x9f0g1i, _0x0g1h2j] = _0x8e9f0h > -1 ? [_0x7d8e9g['substring'](0, _0x8e9f0h), _0x7d8e9g['substring'](_0x8e9f0h)] : [_0x7d8e9g, ''];
                    let _0x1h2i3k = false;
                    if (_0x9f0g1i['startsWith']('[')) {
                        _0x1h2i3k = /\]:(\d+)$/['test'](_0x9f0g1i);
                    } else {
                        const _0x2i3j4l = _0x9f0g1i['lastIndexOf'](':');
                        _0x1h2i3k = _0x2i3j4l > -1 && /^\d+$/['test'](_0x9f0g1i['substring'](_0x2i3j4l + 1));
                    }
                    const _0x3j4k5m = new [_0x4c5d6e](_0x8k9l0n)['searchParams']['get']('port') || _0x3g4h5i;
                    _0x5h6i7k['add'](_0x1h2i3k ? _0x7d8e9g : `${_0x9f0g1i}:${_0x3j4k5m}${_0x0g1h2j}`);
                });
            }
        } catch (_0x4k5l6n) { }
    }));
    const _0x5l6m7o = _0x6i7j8l['trim']() ? [...new Set(_0x6i7j8l['split'](/\r?\n/)['filter'](_0x6m7n8p => _0x6m7n8p['trim']() !== ''))] : [];
    return [Array['from'](_0x5h6i7k), _0x5l6m7o, Array['from'](_0x7j8k9m)];
}

async function _0x6r7s8t(_0x7o8p9q) {
    const _0x8p9q0r = new [_0x4c5d6e](_0x7o8p9q[_0x5d6e7f]);
    const { 'pathname': _0x9q0r1s, 'searchParams': _0x0r1s2t } = _0x8p9q0r;
    const _0x1s2t3u = _0x9q0r1s['toLowerCase']();
    
    _0x5g6h7i = _0x0r1s2t['get']('socks5') || _0x0r1s2t['get']('http') || null;
    _0x4f5g6h = _0x0r1s2t['has']('globalproxy') || false;
    
    const _0x2t3u4v = _0x1s2t3u['match'](/\/(proxyip[.=]|pyip=|ip=)([^/?]+)/);
    if (_0x0r1s2t['has']('proxyip')) {
        const _0x3u4v5w = _0x0r1s2t['get']('proxyip');
        _0x2d3e4f = _0x3u4v5w['includes'](',') ? _0x3u4v5w['split'](',')[Math['floor'](Math['random']() * _0x3u4v5w['split'](',').length)] : _0x3u4v5w;
        _0xk0l1m2n = false;
        return;
    } else if (_0x2t3u4v) {
        const _0x4v5w6x = _0x2t3u4v[1] === 'proxyip.' ? `proxyip.${_0x2t3u4v[2]}` : _0x2t3u4v[2];
        _0x2d3e4f = _0x4v5w6x['includes'](',') ? _0x4v5w6x['split'](',')[Math['floor'](Math['random']() * _0x4v5w6x['split'](',').length)] : _0x4v5w6x;
        _0xk0l1m2n = false;
        return;
    }
    
    let _0x5w6x7y;
    if ((_0x5w6x7y = _0x9q0r1s['match'](/\/(socks5?|http):\/?\/?([^/?#]+)/i))) {
        _0x3e4f5g = _0x5w6x7y[1]['toLowerCase']() === 'http' ? 'http' : 'socks5';
        _0x5g6h7i = _0x5w6x7y[2];
        _0x4f5g6h = true;
        if (_0x5g6h7i['includes']('@')) {
            const _0x6x7y8z = _0x5g6h7i['lastIndexOf']('@');
            let _0x7y8z9a = _0x5g6h7i['substring'](0, _0x6x7y8z)['replaceAll']('%3D', '=');
            if (/^(?:[A-Z0-9+/]{4})*(?:[A-Z0-9+/]{2}==|[A-Z0-9+/]{3}=)?$/i['test'](_0x7y8z9a) && !_0x7y8z9a['includes'](':')) {
                _0x7y8z9a = atob(_0x7y8z9a);
            }
            _0x5g6h7i = `${_0x7y8z9a}@${_0x5g6h7i['substring'](_0x6x7y8z + 1)}`;
        }
    } else if ((_0x5w6x7y = _0x9q0r1s['match'](/\/(g?s5|socks5|g?http)=([^/?#]+)/i))) {
        const _0x8z9a0b = _0x5w6x7y[1]['toLowerCase']();
        _0x5g6h7i = _0x5w6x7y[2];
        _0x3e4f5g = _0x8z9a0b['includes']('http') ? 'http' : 'socks5';
        _0x4f5g6h = _0x8z9a0b['startsWith']('g') || _0x4f5g6h;
    }
    
    if (_0x5g6h7i) {
        try {
            _0x6h7i8j = await _0x9a0b1c(_0x5g6h7i);
            _0x3e4f5g = _0x0r1s2t['get']('http') ? 'http' : _0x3e4f5g;
        } catch (_0x0b1c2d) {
            _0x3e4f5g = null;
        }
    } else _0x3e4f5g = null;
}

async function _0x9a0b1c(_0x1c2d3e) {
    if (_0x1c2d3e['includes']('@')) {
        const _0x2d3e4f = _0x1c2d3e['lastIndexOf']('@');
        let _0x3e4f5g = _0x1c2d3e['substring'](0, _0x2d3e4f)['replaceAll']('%3D', '=');
        const _0x4f5g6h = /^(?:[A-Z0-9+/]{4})*(?:[A-Z0-9+/]{2}==|[A-Z0-9+/]{3}=)?$/i;
        if (_0x4f5g6h['test'](_0x3e4f5g) && !_0x3e4f5g['includes'](':')) _0x3e4f5g = atob(_0x3e4f5g);
        _0x1c2d3e = `${_0x3e4f5g}@${_0x1c2d3e['substring'](_0x2d3e4f + 1)}`;
    }
    const _0x5g6h7i = _0x1c2d3e['lastIndexOf']("@");
    const [_0x6h7i8j, _0x7i8j9k] = _0x5g6h7i === -1 ? [_0x1c2d3e, undefined] : [_0x1c2d3e['substring'](_0x5g6h7i + 1), _0x1c2d3e['substring'](0, _0x5g6h7i)];
    
    let _0x8j9k0l, _0x9k0l1m;
    if (_0x7i8j9k) {
        [_0x8j9k0l, _0x9k0l1m] = _0x7i8j9k['split'](":");
        if (!_0x9k0l1m) throw new Error('无效的 SOCKS 地址格式：认证部分必须是 "username:password" 的形式');
    }
    
    let _0x0l1m2n, _0xl1m2n3o;
    if (_0x6h7i8j['includes']("]:")) {
        [_0x0l1m2n, _0xl1m2n3o] = [_0x6h7i8j['split']("]:")[0] + "]", Number(_0x6h7i8j['split']("]:")[1]['replace'](/[^\d]/g, ''))];
    } else if (_0x6h7i8j['startsWith']("[")) {
        [_0x0l1m2n, _0xl1m2n3o] = [_0x6h7i8j, 80];
    } else {
        const _0x1m2n3o4p = _0x6h7i8j['split'](":");
        [_0x0l1m2n, _0xl1m2n3o] = _0x1m2n3o4p['length'] === 2 ? [_0x1m2n3o4p[0], Number(_0x1m2n3o4p[1]['replace'](/[^\d]/g, ''))] : [_0x6h7i8j, 80];
    }
    
    if (isNaN(_0xl1m2n3o)) throw new Error('无效的 SOCKS 地址格式：端口号必须是数字');
    if (_0x0l1m2n['includes'](":") && !/^\[.*\]$/.test(_0x0l1m2n)) throw new Error('无效的 SOCKS 地址格式：IPv6 地址必须用方括号括起来，如 [2001:db8::1]');
    
    return { 'username': _0x8j9k0l, 'password': _0x9k0l1m, 'hostname': _0x0l1m2n, 'port': _0xl1m2n3o };
}

async function _0xf8g9h0(_0x2n3o4p, _0x3o4p5q, _0x4p5q6r, _0x5q6r7s = "Get_SUB", _0x6r7s8t) {
    const _0x7s8t9u = 4;
    try {
        const _0x8t9u0v = new Date();
        const _0x9u0v1w = {
            'TYPE': _0x5q6r7s,
            'IP': _0x4p5q6r,
            'ASN': `AS${_0x3o4p5q['cf']['asn'] || '0'} ${_0x3o4p5q['cf']['asOrganization'] || 'Unknown'}`,
            'CC': `${_0x3o4p5q['cf']['country'] || 'N/A'} ${_0x3o4p5q['cf']['city'] || 'N/A'}`,
            'URL': _0x3o4p5q[_0x5d6e7f],
            'UA': _0x3o4p5q['headers']['get']('User-Agent') || 'Unknown',
            'TIME': _0x8t9u0v['getTime']()
        };
        let _0x0v1w2x = [];
        const _0x1w2x3y = await _0x2n3o4p[_0xz8a9b0c1d][_0xa9b0c1d2e]('log.json');
        if (_0x1w2x3y) {
            try {
                _0x0v1w2x = JSON['parse'](_0x1w2x3y);
                if (!Array['isArray'](_0x0v1w2x)) {
                    _0x0v1w2x = [_0x9u0v1w];
                } else if (_0x5q6r7s !== "Get_SUB") {
                    const _0x2x3y4z = _0x8t9u0v['getTime']() - 30 * 60 * 1000;
                    if (_0x0v1w2x['some'](_0x3y4z5a => _0x3y4z5a['TYPE'] !== "Get_SUB" && _0x3y4z5a['IP'] === _0x4p5q6r && _0x3y4z5a['URL'] === _0x3o4p5q[_0x5d6e7f] && _0x3y4z5a['UA'] === (_0x3o4p5q['headers']['get']('User-Agent') || 'Unknown') && _0x3y4z5a['TIME'] >= _0x2x3y4z)) return;
                    _0x0v1w2x['push'](_0x9u0v1w);
                    while (JSON['stringify'](_0x0v1w2x, null, 2)['length'] > _0x7s8t9u * 1024 * 1024 && _0x0v1w2x['length'] > 0) _0x0v1w2x['shift']();
                } else {
                    _0x0v1w2x['push'](_0x9u0v1w);
                    while (JSON['stringify'](_0x0v1w2x, null, 2)['length'] > _0x7s8t9u * 1024 * 1024 && _0x0v1w2x['length'] > 0) _0x0v1w2x['shift']();
                }
                if (_0x6r7s8t['TG']['启用']) {
                    try {
                        const _0x4z5a6b = await _0x2n3o4p[_0xz8a9b0c1d][_0xa9b0c1d2e]('tg.json');
                        const _0x5a6b7c = JSON['parse'](_0x4z5a6b);
                        await _0x6b7c8d(_0x5a6b7c['BotToken'], _0x5a6b7c['ChatID'], _0x9u0v1w, _0x6r7s8t);
                    } catch (_0x6b7c8d) { }
                }
            } catch (_0x7c8d9e) {
                _0x0v1w2x = [_0x9u0v1w];
            }
        } else {
            _0x0v1w2x = [_0x9u0v1w];
        }
        await _0x2n3o4p[_0xz8a9b0c1d][_0xb0c1d2e3f]('log.json', JSON['stringify'](_0x0v1w2x, null, 2));
    } catch (_0x8d9e0f) { }
}

async function _0x6b7c8d(_0x9e0f1g, _0x0f1g2h, _0x1g2h3i, _0x2h3i4j) {
    if (!_0x9e0f1g || !_0x0f1g2h) return;
    try {
        const _0x3i4j5k = new Date(_0x1g2h3i['TIME'])['toLocaleString']('zh-CN', { 'timeZone': 'Asia/Shanghai' });
        const _0x4j5k6l = new [_0x4c5d6e](_0x1g2h3i['URL']);
        const _0x5k6l7m = `<b>#${_0x2h3i4j['优选订阅生成']['SUBNAME']} 日志通知</b>\n\n` +
            `📌 <b>类型：</b>#${_0x1g2h3i['TYPE']}\n` +
            `🌐 <b>IP：</b><code>${_0x1g2h3i['IP']}</code>\n` +
            `📍 <b>位置：</b>${_0x1g2h3i['CC']}\n` +
            `🏢 <b>ASN：</b>${_0x1g2h3i['ASN']}\n` +
            `🔗 <b>域名：</b><code>${_0x4j5k6l['host']}</code>\n` +
            `🔍 <b>路径：</b><code>${_0x4j5k6l['pathname'] + _0x4j5k6l['search']}</code>\n` +
            `🤖 <b>UA：</b><code>${_0x1g2h3i['UA']}</code>\n` +
            `📅 <b>时间：</b>${_0x3i4j5k}\n` +
            `${_0x2h3i4j['CF']['Usage']['success'] ? `📊 <b>请求用量：</b>${_0x2h3i4j['CF']['Usage']['total']}/${_0x2h3i4j['CF']['Usage']['max']} <b>${((_0x2h3i4j['CF']['Usage']['total'] / _0x2h3i4j['CF']['Usage']['max']) * 100)['toFixed'](2)}%</b>\n` : ''}`;
        const _0x6l7m8n = `https://api.telegram.org/bot${_0x9e0f1g}/sendMessage?chat_id=${_0x0f1g2h}&parse_mode=HTML&text=${encodeURIComponent(_0x5k6l7m)}`;
        return (0, eval)(_0x3b4c5d)(_0x6l7m8n, {
            'method': 'GET',
            'headers': {
                'Accept': 'text/html,application/xhtml+xml,application/xml;',
                'Accept-Encoding': 'gzip, deflate, br',
                'User-Agent': _0x1g2h3i['UA'] || 'Unknown'
            }
        });
    } catch (_0x7m8n9o) { }
}

function _0x4p5q6r(_0x8n9o0p = "/") {
    const _0x9o0p1q = ["about", "account", "acg", "act", "activity", "ad", "ads", "ajax", "album", "albums", "anime", "api", "app", "apps", "archive", "archives", "article", "articles", "ask", "auth", "avatar", "bbs", "bd", "blog", "blogs", "book", "books", "bt", "buy", "cart", "category", "categories", "cb", "channel", "channels", "chat", "china", "city", "class", "classify", "clip", "clips", "club", "cn", "code", "collect", "collection", "comic", "comics", "community", "company", "config", "contact", "content", "course", "courses", "cp", "data", "detail", "details", "dh", "directory", "discount", "discuss", "dl", "dload", "doc", "docs", "document", "documents", "doujin", "download", "downloads", "drama", "edu", "en", "ep", "episode", "episodes", "event", "events", "f", "faq", "favorite", "favourites", "favs", "feedback", "file", "files", "film", "films", "forum", "forums", "friend", "friends", "game", "games", "gif", "go", "go.html", "go.php", "group", "groups", "help", "home", "hot", "htm", "html", "image", "images", "img", "index", "info", "intro", "item", "items", "ja", "jp", "jump", "jump.html", "jump.php", "jumping", "knowledge", "lang", "lesson", "lessons", "lib", "library", "link", "links", "list", "live", "lives", "m", "mag", "magnet", "mall", "manhua", "map", "member", "members", "message", "messages", "mobile", "movie", "movies", "music", "my", "new", "news", "note", "novel", "novels", "online", "order", "out", "out.html", "out.php", "outbound", "p", "page", "pages", "pay", "payment", "pdf", "photo", "photos", "pic", "pics", "picture", "pictures", "play", "player", "playlist", "post", "posts", "product", "products", "program", "programs", "project", "qa", "question", "rank", "ranking", "read", "readme", "redirect", "redirect.html", "redirect.php", "reg", "register", "res", "resource", "retrieve", "sale", "search", "season", "seasons", "section", "seller", "series", "service", "services", "setting", "settings", "share", "shop", "show", "shows", "site", "soft", "sort", "source", "special", "star", "stars", "static", "stock", "store", "stream", "streaming", "streams", "student", "study", "tag", "tags", "task", "teacher", "team", "tech", "temp", "test", "thread", "tool", "tools", "topic", "topics", "torrent", "trade", "travel", "tv", "txt", "type", "u", "upload", "uploads", "url", "urls", "user", "users", "v", "version", "video", "videos", "view", "vip", "vod", "watch", "web", "wenku", "wiki", "work", "www", "zh", "zh-cn", "zh-tw", "zip"];
    const _0x0p1q2r = Math['floor'](Math['random']() * 3 + 1);
    const _0x1q2r3s = _0x9o0p1q['sort'](() => 0.5 - Math['random']())['slice'](0, _0x0p1q2r)['join']('/');
    if (_0x8n9o0p === "/") return `/${_0x1q2r3s}`;
    else return `/${_0x1q2r3s + _0x8n9o0p['replace']('/?', '?')}`;
}

function _0x5q6r7s(_0x2r3s4t, _0x3s4t5u, _0x4t5u6v = 2) {
    if (!_0x3s4t5u?.['includes']('*')) return _0x3s4t5u;
    const _0x5u6v7w = 'abcdefghijklmnopqrstuvwxyz0123456789';
    return _0x3s4t5u['replace'](/\*/g, () => {
        let _0x6v7w8x = '';
        for (let _0x7w8x9y = 0; _0x7w8x9y < Math['floor'](Math['random']() * 14) + 3; _0x7w8x9y++) {
            _0x6v7w8x += _0x5u6v7w[Math['floor'](Math['random']() * 36)];
        }
        return _0x6v7w8x;
    });
}

async function _0x5q6r7s(_0x2r3s4t, _0x3s4t5u, _0x4t5u6v = 2) {
    const _0x5u6v7w = [..._0x3s4t5u]['sort'](() => Math['random']() - 0.5);
    let _0x6v7w8x = 0, _0x7w8x9y = null;
    return _0x2r3s4t['replace'](/example\.com/g, () => {
        if (_0x6v7w8x % _0x4t5u6v === 0) _0x7w8x9y = _0x5q6r7s(_0x5u6v7w[Math['floor'](_0x6v7w8x / _0x4t5u6v) % _0x5u6v7w['length']]);
        _0x6v7w8x++;
        return _0x7w8x9y;
    });
}

async function _0x9u0v1w() {
    return `
	<!DOCTYPE html>
	<html>
	<head>
	<title>Welcome to nginx!</title>
	<style>
		body {
			width: 35em;
			margin: 0 auto;
			font-family: Tahoma, Verdana, Arial, sans-serif;
		}
	</style>
	</head>
	<body>
	<h1>Welcome to nginx!</h1>
	<p>If you see this page, the nginx web server is successfully installed and
	working. Further configuration is required.</p>
	
	<p>For online documentation and support please refer to
	<a href="http://nginx.org/">nginx.org</a>.<br/>
	Commercial support is available at
	<a href="http://nginx.com/">nginx.com</a>.</p>
	
	<p><em>Thank you for using nginx.</em></p>
	</body>
	</html>
	`;
}

async function _0x8t9u0v(_0x8w9x0y, _0x9w9x0y1z) {
    const _0x0x1y2z = new Date();
    const _0x1y2z3a = _0x0x1y2z['getFullYear']() + '-' + String(_0x0x1y2z['getMonth']() + 1)['padStart'](2, '0') + '-' + String(_0x0x1y2z['getDate']())['padStart'](2, '0') + ' ' + String(_0x0x1y2z['getHours']())['padStart'](2, '0') + ':' + String(_0x0x1y2z['getMinutes']())['padStart'](2, '0') + ':' + String(_0x0x1y2z['getSeconds']())['padStart'](2, '0');
    const _0x2z3a4b = Array['from'](crypto['getRandomValues'](new Uint8Array(8)))['map'](_0x3a4b5c => _0x3a4b5c['toString'](16)['padStart'](2, '0'))['join']('');
    return `<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en-US"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en-US"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en-US"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en-US"> <!--<![endif]-->
<head>
<title>Worker threw exception | ${_0x8w9x0y} | Cloudflare</title>
<meta charset="UTF-8" />
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
<meta name="robots" content="noindex, nofollow" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<link rel="stylesheet" id="cf_styles-css" href="/cdn-cgi/styles/cf.errors.css" />
<!--[if lt IE 9]><link rel="stylesheet" id='cf_styles-ie-css' href="/cdn-cgi/styles/cf.errors.ie.css" /><![endif]-->
<style>body{margin:0;padding:0}</style>


<!--[if gte IE 10]><!-->
<script>
  if (!navigator.cookieEnabled) {
    window.addEventListener('DOMContentLoaded', function () {
      var cookieEl = document.getElementById('cookie-alert');
      cookieEl.style.display = 'block';
    })
  }
</script>
<!--<![endif]-->

</head>
<body>
    <div id="cf-wrapper">
        <div class="cf-alert cf-alert-error cf-cookie-error" id="cookie-alert" data-translate="enable_cookies">Please enable cookies.</div>
        <div id="cf-error-details" class="cf-error-details-wrapper">
            <div class="cf-wrapper cf-header cf-error-overview">
                <h1>
                    <span class="cf-error-type" data-translate="error">Error</span>
                    <span class="cf-error-code">1101</span>
                    <small class="heading-ray-id">Ray ID: ${_0x2z3a4b} &bull; ${_0x1y2z3a} UTC</small>
                </h1>
                <h2 class="cf-subheadline" data-translate="error_desc">Worker threw exception</h2>
            </div><!-- /.header -->
    
            <section></section><!-- spacer -->
    
            <div class="cf-section cf-wrapper">
                <div class="cf-columns two">
                    <div class="cf-column">
                        <h2 data-translate="what_happened">What happened?</h2>
                            <p>You've requested a page on a website (${_0x8w9x0y}) that is on the <a href="https://www.cloudflare.com/5xx-error-landing?utm_source=error_100x" target="_blank">Cloudflare</a> network. An unknown error occurred while rendering the page.</p>
                    </div>
                    
                    <div class="cf-column">
                        <h2 data-translate="what_can_i_do">What can I do?</h2>
                            <p><strong>If you are the owner of this website:</strong><br />refer to <a href="https://developers.cloudflare.com/workers/observability/errors/" target="_blank">Workers - Errors and Exceptions</a> and check Workers Logs for ${_0x8w9x0y}.</p>
                    </div>
                    
                </div>
            </div><!-- /.section -->
    
            <div class="cf-error-footer cf-wrapper w-240 lg:w-full py-10 sm:py-4 sm:px-8 mx-auto text-center sm:text-left border-solid border-0 border-t border-gray-300">
    <p class="text-13">
      <span class="cf-footer-item sm:block sm:mb-1">Cloudflare Ray ID: <strong class="font-semibold"> ${_0x2z3a4b}</strong></span>
      <span class="cf-footer-separator sm:hidden">&bull;</span>
      <span id="cf-footer-item-ip" class="cf-footer-item hidden sm:block sm:mb-1">
        Your IP:
        <button type="button" id="cf-footer-ip-reveal" class="cf-footer-ip-reveal-btn">Click to reveal</button>
        <span class="hidden" id="cf-footer-ip">${_0x9w9x0y1z}</span>
        <span class="cf-footer-separator sm:hidden">&bull;</span>
      </span>
      <span class="cf-footer-item sm:block sm:mb-1"><span>Performance &amp; security by</span> <a rel="noopener noreferrer" href="https://www.cloudflare.com/5xx-error-landing" id="brand_link" target="_blank">Cloudflare</a></span>
      
    </p>
    <script>(function(){function d(){var b=a.getElementById("cf-footer-item-ip"),c=a.getElementById("cf-footer-ip-reveal");b&&"classList"in b&&(b.classList.remove("hidden"),c.addEventListener("click",function(){c.classList.add("hidden");a.getElementById("cf-footer-ip").classList.remove("hidden")}))}var a=document;document.addEventListener&&a.addEventListener("DOMContentLoaded",d)})();</script>
  </div><!-- /.error-footer -->

        </div><!-- /#cf-error-details -->
    </div><!-- /#cf-wrapper -->

     <script>
    window._cf_translation = {};
    
    
  </script> 
</body>
</html>`;
}
